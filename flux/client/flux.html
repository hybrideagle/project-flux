<template name="navbar">
  <nav>
    <div class="nav-wrapper">
      <a href="/" class="brand-logo">Flux</a>
    </div>
  </nav>
</template>


<template name="groupPanel">
  <div class="wrapper group-panel-wrapper">
  <h3>Groups</h3>
  <div class="card-container">
  {{#each group in groupData}}
      <a href="{{getGroupPath group._id}}">
      <div class="card blue-grey darken-1 group-card">
        <div class="card-content white-text">
          <span class="card-title"><h4>{{group.name}}</h4></span>
          <p class="flow-text">{{group.description}}</p>
        </div>
      </div>
      </a>
  {{/each}}
  </div>
  </div>
</template>

<template name="eventsPanel">
  <div class="wrapper group-panel-wrapper ">
  <h3>Events</h3>
  <div class="card-container">
  {{#each event in eventsData}}
      <div class="card blue-grey darken-1 group-card">
        <div class="card-content white-text">
          <span class="card-title">{{event.name}}</span>
          <p class="flow-text">{{event.description}}</p>
        </div>
      </div>
  {{/each}}
  </div>
  </div>
</template>


<template name="communityPageContent">
  <main>
    <div class="row">
      <div class="col s4">
        {{> groupPanel}}
      </div>
      <div class="col s8">
        {{> eventsPanel}}
      </div>
    </div>
  </main>
</template>

<template name="groupPageContent">
  {{> insertEvent}}
  <div class="wrapper group-panel-wrapper group-page-panel" style="text-align:center;">
    <div class="card-panel teal">
            <span class="white-text text-center">Name:{{getName}}</span>
    </div>
    <div class="card-panel teal group-page-panel">
            <span class="white-text">Description:{{getDecsciption}}</span>
    </div>
    
    <div class="card-panel teal group-page-panel">
            <span class="white-text">Events:</span>
    </div>
    <div class="row">
      <div class="card-container">
      {{#each event in (getEvents)}}
          <div class="card blue-grey darken-1 group-card">
            <div class="card-content white-text">
              <span class="card-title">{{event.name}}</span>
              <p class="flow-text" style="margin:0 auto;">{{event.description}}</p>
            </div>
          </div>
      {{/each}}
      </div>
    </div>
  </div>

</template>

<template name="insertEvent">
  <div class="container">


  </div>

  {{> autoformModals}}
  {{#afModal class="btn btn-primary" collection="events"
   operation="insert" buttonContent="Create Event" backdrop ='static'
    prompt="Use this form to add a New Event" title="Add Event"}}
    Add Event
  {{/afModal}}
</template>



<template name="layout">
  <head>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  </head>
  <body>
  <header>
    {{> navbar}}
    {{>Template.dynamic template=breadcrumbs}}
  </header>
  <div class="container">
      <main>
        {{>Template.dynamic template=content}}
      </main>
  </div>
  <footer class="page-footer light-green">
          
  </footer>
  </body>
</template>


